# Проверка переменных окружения

## Проблема:
Ошибка "Configuration" в NextAuth обычно означает, что не все переменные окружения установлены правильно.

## Решение:

### Шаг 1: Проверьте файл .env.local

Убедитесь, что файл `.env.local` в корне проекта содержит **все** следующие переменные:

```env
DATABASE_URL="postgresql://..."
GOOGLE_CLIENT_ID="ваш-client-id.apps.googleusercontent.com"
GOOGLE_CLIENT_SECRET="ваш-client-secret"
AUTH_SECRET="ваш-auth-secret-минимум-32-символа"
AUTH_URL="http://localhost:3000"
```

**ВАЖНО:**
- `AUTH_SECRET` должен быть минимум 32 символа длиной
- `AUTH_URL` должен соответствовать порту, на котором работает сервер (3000 или 3001)
- Используйте `http://` для localhost (не `https://`)
- Не добавляйте пробелы вокруг `=`

### Шаг 2: Проверьте, что файл сохранен

Убедитесь, что файл `.env.local` сохранен (Ctrl+S).

### Шаг 3: Перезапустите сервер

**ОБЯЗАТЕЛЬНО** перезапустите dev-сервер после изменения `.env.local`:

1. Остановите сервер: `Ctrl+C` в терминале
2. Запустите снова:
   ```powershell
   npm run dev
   ```

### Шаг 4: Проверьте логи сервера

После перезапуска проверьте терминал на наличие ошибок. Если видите ошибки типа:
- "GOOGLE_CLIENT_ID не установлен"
- "AUTH_SECRET не установлен"

Это означает, что переменные не загружаются. Проверьте:
1. Правильность имени файла (`.env.local`, не `.env`)
2. Правильность синтаксиса (нет лишних пробелов, кавычки правильные)
3. Что файл находится в корне проекта (там же, где `package.json`)

## Генерация AUTH_SECRET:

Если у вас нет `AUTH_SECRET`, сгенерируйте его:

**В PowerShell:**
```powershell
-join ((48..57) + (65..90) + (97..122) | Get-Random -Count 32 | ForEach-Object {[char]$_})
```

**Или используйте онлайн-генератор:**
https://generate-secret.vercel.app/32

## Проверка переменных:

После перезапуска сервера, если ошибка "Configuration" сохраняется, проверьте в терминале, что сервер запустился без ошибок валидации переменных окружения.
