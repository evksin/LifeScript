# Настройка переменных окружения на Vercel

## Проблема:
Ошибка "NextAuth handlers не инициализированы" при сборке на Vercel означает, что переменные окружения не установлены или недоступны во время сборки.

## Решение:

### Шаг 1: Добавьте переменные окружения на Vercel

1. Откройте [Vercel Dashboard](https://vercel.com/dashboard)
2. Выберите ваш проект **life-script**
3. Перейдите в **Settings** → **Environment Variables**
4. Добавьте **ВСЕ** следующие переменные для **Production**, **Preview** и **Development**:

   ```
   DATABASE_URL=postgresql://...
   GOOGLE_CLIENT_ID=ваш-client-id.apps.googleusercontent.com
   GOOGLE_CLIENT_SECRET=ваш-client-secret
   AUTH_SECRET=ваш-auth-secret-минимум-32-символа
   AUTH_URL=https://your-domain.vercel.app
   ```

   **ВАЖНО:**
   - `AUTH_URL` должен быть вашим Vercel URL (например, `https://life-script-swart.vercel.app`)
   - Используйте `https://`, а не `http://`
   - Для Production используйте production URL
   - Для Preview можно использовать тот же URL или оставить пустым

### Шаг 2: Пересоберите проект

**ОБЯЗАТЕЛЬНО** пересоберите проект после добавления переменных:

1. Vercel Dashboard → ваш проект → **Deployments**
2. Найдите последний деплой
3. Нажмите **"..."** (три точки) → **"Redeploy"**
4. Выберите **"Use existing Build Cache"** = **No** (важно!)
5. Нажмите **"Redeploy"**

### Шаг 3: Проверьте логи сборки

После пересборки проверьте логи:
- Если сборка успешна - отлично!
- Если есть ошибки - проверьте, что все переменные добавлены правильно

## Проверка переменных:

Убедитесь, что:
- ✅ Все переменные добавлены для **Production**
- ✅ Все переменные добавлены для **Preview** (опционально)
- ✅ Все переменные добавлены для **Development** (опционально)
- ✅ Значения переменных правильные (без лишних пробелов, кавычек)
- ✅ `AUTH_URL` использует `https://` для production

## Если проблема сохраняется:

1. Проверьте, что переменные действительно сохранены (откройте их снова в Vercel Dashboard)
2. Убедитесь, что вы пересобрали проект **БЕЗ кэша**
3. Проверьте логи сборки на наличие других ошибок
