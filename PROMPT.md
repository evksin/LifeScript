�� � ������� fullstack-�����������. �������� � ������������ ������� ProStore (Next.js App Router + TypeScript + Prisma + Neon/Postgres + Auth). ����� �������� ����� � ��������� �������.

����
- ������������ ����� ��������� ���� ���������� ������.
- �����������: 1 ������������ = 1 ���� �� ����� (��������� ������� ������� ���� � toggle).
- �� ��������/� ������ ����������: ���������� ������ � ��������� ������ (�������/�� �������).
- �������� ����������: �� ������������ (���-�� ������) � �� ���� (createdAt).

����������
- ������ �������������� ������������ ����� �������.
- ������� ����� ������ public prompts.
- ������ �� �������� �� ������ ��: ���������� ������ (userId, promptId).
- �������� ������ ���� ������������� �� ������ toggle: ��������� ������ ������ ���������.
- UI: ������ Like (������ ����� �����), ������� �����. �� ����� ������� � disabled + ������������� ���������� (���� �������).
- ������: ���� �� ����������� � �������� �������� ���������/�������� �� ����; ���� ����� ���������/�� ������ � 404/������; ���� �� ���������� � ����������� �����.

���� ������ (������� �������, ����� ������)
1) ����� ��:
   - ������ ������ Like (��� PromptLike) � prisma.schema:
     fields: id (cuid), userId, promptId, createdAt
     relations: Like->User, Like->Prompt
     @@unique([userId, promptId])
     @@index([promptId])
   - ������ ������ LifeScript: likes relation
   - ������ �������� Prisma.

2) ��������� ������:
   - ������ route handler: POST /api/prompts/[id]/like
   - �������� ������������ ����� ������� ����������� (NextAuth/your auth util).
   - �������: ����� ���������� � isPublic=true.
   - Toggle:
       ���� ������ Like ���������� -> �������
       ����� -> �������
   - ����� JSON: { liked: boolean, likesCount: number }
   - likesCount �������� ����� prisma.like.count({ where:{ promptId } })

3) ����� ������:
   - � ������� ��������� ������� ������:
     - likesCount (����� _count.likes)
     - ������� likedByMe ��� �������� ������������ (����� relation filter ��� ��������� ������ �� promptIds)
   - �������� ����������:
     - popular: orderBy: { likes: { _count: 'desc' } } (��� ����� _count)
     - recent: orderBy: { createdAt: 'desc' }
   - ������ �������� sort � URL (?sort=popular|recent) � ������������� � UI.

4) UI:
   - ��������� LikeButton:
     props: promptId, initialLiked, initialCount
     ���������: liked/count/loading
     �� ����� -> fetch POST /api/prompts/{id}/like
     �������� UI �� ������, ���������� ������.
   - ������ ������ � �������� ������ � ���������� �������.

5) ����/��������:
   - �������: ��� ������ ���� �� ��������
   - ���� ������������ �� ����� ��������� ��� ����� (���������� ������)
   - Toggle ��������
   - ���������� popular ������������� ������ �������.

������ ��������� � ����
- ������/������ ����������� �����.
- ������ diff (��� ��������� ����� � �������� ��������� ����).
- ����� �������: prisma migrate dev, prisma generate.
- �� ����� ������������ ���������� CRUD �������.

���� � ������� ��� ���� Vote, ��������� ��� ������ (route + UI), �� ���� ������ ���� ��������� ��������� Like.
